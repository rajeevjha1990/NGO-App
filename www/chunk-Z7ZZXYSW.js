import{a as A}from"./chunk-SP2N6BLA.js";import{A as T,B as y,Ba as N,C as S,Ea as O,Fa as D,Ga as B,L as M,M as b,Na as W,O as w,Oa as j,Pa as H,Sa as R,Z as k,_ as E,bb as q,da as P,ea as F,g as h,h as I,j as o,k as d,l as v,m as f,n as c,o as a,p as s,r as x,s as _,t as m,w as g,wa as L,x as V,y as C}from"./chunk-6RAZA6VU.js";import{h as u}from"./chunk-B7O3QC5Z.js";function z(e,i){if(e&1){let r=x();a(0,"ion-item",6),_("click",function(){let t=h(r).$implicit,n=m(2);return I(n.selectVillage(t))}),a(1,"ion-label")(2,"p"),g(3),s()()()}if(e&2){let r=i.$implicit;o(3),V(r.village_name)}}function G(e,i){if(e&1&&(a(0,"ion-list"),f(1,z,4,1,"ion-item",5),s()),e&2){let r=m();o(),c("ngForOf",r.filteredVillages)}}function J(e,i){if(e&1&&(a(0,"ion-text",7)(1,"p"),g(2),s()()),e&2){let r=m();o(2),C('No village found for "',r.searchText,'"')}}var te=(()=>{let i=class i{constructor(l,t){this.pubServ=l,this.modalCtrl=t,this.villages=[],this.filteredVillages=[],this.searchText=""}ngOnInit(){return u(this,null,function*(){this.villages=yield this.pubServ.villageByBlock(this.blockId),this.filteredVillages=[...this.villages]})}filterVillages(){let l=this.searchText.toLowerCase();this.filteredVillages=this.villages.filter(t=>t.village_name.toLowerCase().includes(l))}selectVillage(l){this.modalCtrl.dismiss({village:l})}};i.\u0275fac=function(t){return new(t||i)(d(A),d(q))},i.\u0275cmp=v({type:i,selectors:[["app-villagefilter"]],inputs:{blockId:"blockId"},decls:8,vars:5,consts:[[3,"translucent"],[1,"ion-padding",3,"fullscreen"],["fill","outline","placeholder","Search village",1,"ion-margin-top",3,"ngModelChange","ionInput","ngModel"],[4,"ngIf"],["color","medium",4,"ngIf"],["button","","detail","false",3,"click",4,"ngFor","ngForOf"],["button","","detail","false",3,"click"],["color","medium"]],template:function(t,n){t&1&&(a(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),g(3,"Villages"),s()()(),a(4,"ion-content",1)(5,"ion-input",2),S("ngModelChange",function(p){return y(n.searchText,p)||(n.searchText=p),p}),_("ionInput",function(){return n.filterVillages()}),s(),f(6,G,2,1,"ion-list",3)(7,J,3,1,"ion-text",4),s()),t&2&&(c("translucent",!0),o(4),c("fullscreen",!0),o(),T("ngModel",n.searchText),o(),c("ngIf",n.filteredVillages.length>0),o(),c("ngIf",n.filteredVillages.length===0&&n.searchText))},dependencies:[L,N,R,O,D,B,j,H,W,w,M,b,F,k,P,E],encapsulation:2});let e=i;return e})();export{te as a};
