import{a as re}from"./chunk-JVIVCWCT.js";import{a as ae}from"./chunk-SP2N6BLA.js";import{b as oe}from"./chunk-TRJ775NK.js";import{$a as ie,A as m,Aa as H,B as c,Ba as V,C as _,D as E,Ea as K,Ka as Q,L as x,La as X,M as A,Ma as Y,O as W,Oa as Z,Pa as $,Sa as ee,Ua as te,Z as T,_ as q,da as z,ea as B,fb as ne,ga as N,i as C,j as o,k as h,l as D,m as M,ma as j,n as f,o as i,oa as L,p as n,q as v,qa as k,ra as F,s as y,sa as U,t as w,ua as R,va as J,w as d,wa as G,x as S,y as I,z as O}from"./chunk-6RAZA6VU.js";import"./chunk-AW7IZUNH.js";import"./chunk-QUJFQN2Y.js";import"./chunk-4SQRGWZO.js";import"./chunk-AGW4ECHM.js";import"./chunk-FHFIUQVW.js";import"./chunk-4QUK7M54.js";import"./chunk-KEPJZG4G.js";import"./chunk-J4TEZE7G.js";import"./chunk-WI6SOTL5.js";import"./chunk-QNCTVU3D.js";import"./chunk-KYMKABGL.js";import"./chunk-44WLN7XP.js";import"./chunk-IZQDRDWN.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-H7IJB4EE.js";import"./chunk-CKP3SGE2.js";import"./chunk-BVXZQL7V.js";import"./chunk-26IOXOZM.js";import"./chunk-EQZVBGP4.js";import"./chunk-NPYKXPTT.js";import"./chunk-LSNLUNBJ.js";import"./chunk-DNTR6X5U.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-G7SWQJ6W.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{h as u}from"./chunk-B7O3QC5Z.js";function pe(a,s){if(a&1&&v(0,"img",27),a&2){let g=w();f("src",g.myhttp.BASE_URL+"/"+g.profileData.volntr_image,C)}}function se(a,s){a&1&&v(0,"img",28)}function fe(a,s){if(a&1&&(i(0,"ion-select-option",29),d(1),n()),a&2){let g=s.$implicit;f("value",E(g.qualification_id)),o(),O("",g.qualification_short," ",g.qualification_title)}}function ge(a,s){if(a&1&&v(0,"img",27),a&2){let g=w();f("src",g.myhttp.BASE_URL+"/"+g.profileData.volntr_image,C)}}function de(a,s){a&1&&v(0,"img",28)}var be=(()=>{let s=class s{constructor(p,r,e,l,t,P){this.userServ=p,this.pubServ=r,this.navCtrl=e,this.alertCtrl=l,this.uploadServ=t,this.myhttp=P,this.profileData={},this.qualifications=[]}ngOnInit(){return u(this,null,function*(){this.qualifications=yield this.pubServ.getQualifications(),this.profileData=yield this.userServ.getProfile()})}selectImage(p){return u(this,null,function*(){let r=document.createElement("input");r.setAttribute("type","file"),r.click(),r.addEventListener("change",e=>u(this,null,function*(){yield this.uploadimage(e)}))})}uploadimage(p){return u(this,null,function*(){let e=p.target.files;if(!e||e.length===0)return;let l=2;for(let t=0;t<e.length;t++){let P=e[t];if(P.size/1024/1024>l){yield this.imageshowAlert("Error",`Image size should not exceed ${l} MB`);return}let le={file_upload:P,upload_type:"misc"},b=yield this.uploadServ.uploadImage(le);b?this.profileData.volntr_image=b.imgValue:yield this.imageshowAlert("Error","Image not uploaded.")}})}imageshowAlert(p,r){return u(this,null,function*(){yield(yield this.alertCtrl.create({header:p,message:r,buttons:["OK"]})).present()})}saveProfile(){return u(this,null,function*(){if(!this.profileData.volntr_name||this.profileData.volntr_name.trim()==="")return this.showAlert("Name is required.");if(!this.profileData.volntr_mobile)return this.showAlert("Mobile number is required.");if(!/^[0-9]{10}$/.test(this.profileData.volntr_mobile))return this.showAlert("Enter a valid 10-digit mobile number.");if(!this.profileData.volntr_email||this.profileData.volntr_email.trim()==="")return this.showAlert("Email is required.");if(!/^\S+@\S+\.\S+$/.test(this.profileData.volntr_email))return this.showAlert("Enter a valid email address.");if(!this.profileData.volntr_ep_temp||this.profileData.volntr_ep_temp.trim()==="")return this.showAlert("Temp EP no is required.");if(!this.profileData.volntr_qualification)return this.showAlert("Please select your qualification.");if(!this.profileData.volntr_join_date)return this.showAlert("Join date is required.");if(!this.profileData.volntr_pincode||this.profileData.volntr_pincode.trim()==="")return this.showAlert("Pincode is required.");if(!this.profileData.volntr_address||this.profileData.volntr_address.trim()==="")return this.showAlert("Address is required.");let p=yield this.userServ.profileUpdate(this.profileData);p?.status?this.navCtrl.navigateForward(["/home"]):yield this.showAlert(p?.msg||"Registration failed.")})}showAlert(p){return u(this,null,function*(){yield(yield this.alertCtrl.create({header:"Notice",message:p,buttons:["OK"]})).present()})}};s.\u0275fac=function(r){return new(r||s)(h(oe),h(ae),h(N),h(ie),h(re),h(ne))},s.\u0275cmp=D({type:s,selectors:[["app-profile"]],decls:52,vars:17,consts:[[3,"translucent"],["color","primary"],[1,"ngo-profile","ion-padding",3,"fullscreen"],[1,"profile-hero","ion-padding-horizontal","ion-padding-vertical"],[1,"profile-hero-avatar"],[3,"src",4,"ngIf"],["src","assets/SVJ-Images/images.png",4,"ngIf"],[1,"profile-hero-title"],[1,"profile-hero-subtitle"],[1,"profile-card","ion-padding"],["size","12","size-md","6"],["labelPlacement","floating","label","Temp EP","fill","outline","type","text",3,"ngModelChange","ngModel"],["labelPlacement","floating","label","Name","fill","outline","type","text",3,"ngModelChange","ngModel"],["labelPlacement","floating","label","Mobile Number","fill","outline","type","number",3,"ngModelChange","ngModel"],["labelPlacement","floating","label","Email ID","fill","outline","type","email",3,"ngModelChange","ngModel"],["labelPlacement","floating","label","Qualification","fill","outline",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["labelPlacement","floating","label","Join Date","fill","outline","type","date",3,"ngModelChange","ngModel"],["labelPlacement","floating","label","Pincode","fill","outline","type","text",3,"ngModelChange","ngModel"],["labelPlacement","floating","label","Address","fill","outline","type","text",3,"ngModelChange","ngModel"],["lines","none"],["expand","block",3,"click"],["color","medium",1,"ion-padding-start"],["size","12","size-md","6",1,"ion-text-center"],[2,"width","128px","height","128px","margin","0 auto"],["size","12"],["expand","block","type","submit",1,"ion-margin-top",3,"click"],[3,"src"],["src","assets/SVJ-Images/images.png"],[3,"value"]],template:function(r,e){r&1&&(i(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),d(3,"Profile"),n()()(),i(4,"ion-content",2)(5,"section",3)(6,"ion-avatar",4),M(7,pe,1,1,"img",5)(8,se,1,0,"img",6),n(),i(9,"h2",7),d(10),n(),i(11,"p",8),d(12),n()(),i(13,"ion-card",9)(14,"ion-card-header")(15,"ion-card-title"),d(16,"Update your profile"),n()(),i(17,"ion-card-content")(18,"ion-grid")(19,"ion-row")(20,"ion-col",10)(21,"ion-input",11),_("ngModelChange",function(t){return c(e.profileData.volntr_ep_temp,t)||(e.profileData.volntr_ep_temp=t),t}),n()(),i(22,"ion-col",10)(23,"ion-input",12),_("ngModelChange",function(t){return c(e.profileData.volntr_name,t)||(e.profileData.volntr_name=t),t}),n()(),i(24,"ion-col",10)(25,"ion-input",13),_("ngModelChange",function(t){return c(e.profileData.volntr_mobile,t)||(e.profileData.volntr_mobile=t),t}),n()(),i(26,"ion-col",10)(27,"ion-input",14),_("ngModelChange",function(t){return c(e.profileData.volntr_email,t)||(e.profileData.volntr_email=t),t}),n()(),i(28,"ion-col",10)(29,"ion-select",15),_("ngModelChange",function(t){return c(e.profileData.volntr_qualification,t)||(e.profileData.volntr_qualification=t),t}),M(30,fe,2,4,"ion-select-option",16),n()(),i(31,"ion-col",10)(32,"ion-input",17),_("ngModelChange",function(t){return c(e.profileData.volntr_join_date,t)||(e.profileData.volntr_join_date=t),t}),n()(),i(33,"ion-col",10)(34,"ion-input",18),_("ngModelChange",function(t){return c(e.profileData.volntr_pincode,t)||(e.profileData.volntr_pincode=t),t}),n()(),i(35,"ion-col",10)(36,"ion-input",19),_("ngModelChange",function(t){return c(e.profileData.volntr_address,t)||(e.profileData.volntr_address=t),t}),n()()(),i(37,"ion-row")(38,"ion-col",10)(39,"ion-item",20)(40,"ion-button",21),y("click",function(t){return e.selectImage(t)}),d(41,"Profile Image"),n()(),i(42,"ion-note",22),d(43,"Max image size: 2 MB (JPG / PNG)"),n()(),i(44,"ion-col",23)(45,"ion-avatar",24),M(46,ge,1,1,"img",5)(47,de,1,0,"img",6),n()()(),i(48,"ion-row")(49,"ion-col",25)(50,"ion-button",26),y("click",function(){return e.saveProfile()}),d(51,"Save"),n()()()()()()()),r&2&&(f("translucent",!0),o(4),f("fullscreen",!0),o(3),f("ngIf",e.profileData.volntr_image),o(),f("ngIf",!e.profileData.volntr_image),o(2),I(" ",e.profileData.volntr_name||"Your Name"," "),o(2),S(e.profileData.volntr_mobile||""),o(9),m("ngModel",e.profileData.volntr_ep_temp),o(2),m("ngModel",e.profileData.volntr_name),o(2),m("ngModel",e.profileData.volntr_mobile),o(2),m("ngModel",e.profileData.volntr_email),o(2),m("ngModel",e.profileData.volntr_qualification),o(),f("ngForOf",e.qualifications),o(2),m("ngModel",e.profileData.volntr_join_date),o(2),m("ngModel",e.profileData.volntr_pincode),o(2),m("ngModel",e.profileData.volntr_address),o(10),f("ngIf",e.profileData.volntr_image),o(),f("ngIf",!e.profileData.volntr_image))},dependencies:[L,J,G,H,V,ee,K,X,Z,$,k,U,F,R,W,x,A,B,T,te,Y,Q,z,q,j],styles:[".ngo-profile[_ngcontent-%COMP%]{--background: #f8fbff}.ngo-profile[_ngcontent-%COMP%]   .profile-hero[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:18px}.ngo-profile[_ngcontent-%COMP%]   .profile-hero[_ngcontent-%COMP%]   .profile-hero-avatar[_ngcontent-%COMP%]{width:110px;height:110px;margin-bottom:8px;border:4px solid rgba(56,128,255,.1333333333);box-shadow:0 2px 8px #3880ff14}.ngo-profile[_ngcontent-%COMP%]   .profile-hero[_ngcontent-%COMP%]   .profile-hero-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:#222f3e;margin:0}.ngo-profile[_ngcontent-%COMP%]   .profile-hero[_ngcontent-%COMP%]   .profile-hero-subtitle[_ngcontent-%COMP%]{font-size:1.1rem;color:#3880ff;margin:2px 0 0}.ngo-profile[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]{border-radius:16px;box-shadow:0 2px 12px #3880ff1a;margin-top:0}.ngo-profile[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:#3880ff}.ngo-profile[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{border-radius:8px;margin-bottom:10px}.ngo-profile[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:8px}.ngo-profile[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{width:110px;height:110px;margin:0 auto;display:block}@media (max-width: 767px){.ngo-profile[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]{padding:8px!important}.ngo-profile[_ngcontent-%COMP%]   .profile-hero[_ngcontent-%COMP%]   .profile-hero-avatar[_ngcontent-%COMP%]{width:80px;height:80px}}"]});let a=s;return a})();export{be as ProfilePage};
