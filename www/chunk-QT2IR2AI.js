import{a as V,b as T}from"./chunk-TRJ775NK.js";import{$ as y,$a as j,A as p,B as u,C as h,Ea as R,O as b,Sa as W,U as O,Z as P,_ as w,ba as I,bb as N,da as v,ea as S,j as m,k as a,l as f,n as C,o as i,oa as x,p as r,q as M,qa as D,ra as E,s as _,sa as L,ua as A,w as g,wa as k}from"./chunk-6RAZA6VU.js";import{h as c}from"./chunk-B7O3QC5Z.js";var X=(()=>{let l=class l{constructor(n,t,e,s){this.userServ=n,this.router=t,this.modalCtrl=e,this.alertCtrl=s,this.isModal=!1,this.formData={mobile:"",password:""},this.volenteer=new V,this.userServ.volenteer.subscribe(o=>this.volenteer=o)}ngOnInit(){this.userServ.volenteer.subscribe(n=>{n?.loggedIn&&this.closeAndRedirect()})}loginClick(){return c(this,null,function*(){let n=this.formData.mobile?.trim(),t=this.formData.password?.trim();if(!n||!t){this.showAlert("Mobile number and password are required.");return}let e=yield this.userServ.login({mobile:n,password:t});e&&(e.status===!0||e.status===200)?yield this.closeAndRedirect():this.showAlert(e.msg||"Invalid login details")})}closeAndRedirect(){return c(this,null,function*(){this.isModal&&(yield this.modalCtrl.dismiss()),this.router.navigateByUrl("/home")})}showAlert(n){return c(this,null,function*(){yield(yield this.alertCtrl.create({header:"Alert",message:n,buttons:["OK"]})).present()})}};l.\u0275fac=function(t){return new(t||l)(a(T),a(O),a(N),a(j))},l.\u0275cmp=f({type:l,selectors:[["app-login"]],inputs:{isModal:"isModal"},decls:19,vars:3,consts:[[1,"ngo-login",3,"fullscreen"],[1,"login-hero","ion-padding-horizontal","ion-padding-vertical"],[1,"login-hero-bg"],["src","assets/SVJ-Images/logo.png","alt","SVJ NGO Logo",1,"login-logo"],[1,"login-title"],[1,"login-subtitle"],[1,"login-card"],[1,"ion-text-center"],[1,"ion-margin-top"],["placeholder","Enter registered mobile","type","tel","maxlength","10","inputmode","numeric","required","",3,"ngModelChange","ngModel"],[1,"ion-margin-bottom"],["placeholder","Password","type","password","required","",3,"ngModelChange","ngModel"],["expand","block","color","success",3,"click"]],template:function(t,e){t&1&&(i(0,"ion-content",0)(1,"section",1)(2,"div",2),M(3,"img",3),i(4,"h2",4),g(5,"Welcome to SVJ NGO"),r(),i(6,"p",5),g(7,"Empowering Communities"),r()()(),i(8,"ion-card",6)(9,"ion-card-header")(10,"ion-card-title",7),g(11,"Login"),r()(),i(12,"ion-card-content")(13,"ion-item",8)(14,"ion-input",9),h("ngModelChange",function(o){return u(e.formData.mobile,o)||(e.formData.mobile=o),o}),r()(),i(15,"ion-item",10)(16,"ion-input",11),h("ngModelChange",function(o){return u(e.formData.password,o)||(e.formData.password=o),o}),r()(),i(17,"ion-button",12),_("click",function(){return e.loginClick()}),g(18,"Login"),r()()()()),t&2&&(C("fullscreen",!0),m(14),p("ngModel",e.formData.mobile),m(2),p("ngModel",e.formData.password))},dependencies:[x,k,W,R,D,L,E,A,b,S,P,y,I,v,w],styles:[".ngo-login[_ngcontent-%COMP%]{--background: #f8fbff}.ngo-login[_ngcontent-%COMP%]   .login-hero[_ngcontent-%COMP%]   .login-hero-bg[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:18px}.ngo-login[_ngcontent-%COMP%]   .login-hero[_ngcontent-%COMP%]   .login-hero-bg[_ngcontent-%COMP%]   .login-logo[_ngcontent-%COMP%]{width:120px;height:auto;margin-bottom:8px}.ngo-login[_ngcontent-%COMP%]   .login-hero[_ngcontent-%COMP%]   .login-hero-bg[_ngcontent-%COMP%]   .login-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:#222f3e;margin:0}.ngo-login[_ngcontent-%COMP%]   .login-hero[_ngcontent-%COMP%]   .login-hero-bg[_ngcontent-%COMP%]   .login-subtitle[_ngcontent-%COMP%]{font-size:1.1rem;color:#3880ff;margin:2px 0 0}.ngo-login[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]{border-radius:16px;box-shadow:0 2px 12px #3880ff1a;margin-top:0}.ngo-login[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:#3880ff}.ngo-login[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{border-radius:8px;margin-bottom:10px}.ngo-login[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:8px}"]});let d=l;return d})();export{X as a};
