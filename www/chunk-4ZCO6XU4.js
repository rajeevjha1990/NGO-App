import{a as A}from"./chunk-SP2N6BLA.js";import{A as B,B as T,Ba as N,C as v,Ea as O,Fa as D,Ga as V,L as y,M as S,Na as W,O as M,Oa as j,Pa as H,Sa as R,Z as w,_ as E,bb as q,da as P,ea as F,g as h,h as k,j as l,k as f,l as I,m as _,n as a,o as c,p as s,r as x,s as u,t as m,w as d,wa as L,x as b,y as C}from"./chunk-6RAZA6VU.js";import{h as g}from"./chunk-B7O3QC5Z.js";function z(e,t){if(e&1){let r=x();c(0,"ion-item",6),u("click",function(){let i=h(r).$implicit,n=m(2);return k(n.selectBlock(i))}),c(1,"ion-label")(2,"p"),d(3),s()()()}if(e&2){let r=t.$implicit;l(3),b(r.block_name)}}function G(e,t){if(e&1&&(c(0,"ion-list"),_(1,z,4,1,"ion-item",5),s()),e&2){let r=m();l(),a("ngForOf",r.filteredBlocks)}}function J(e,t){if(e&1&&(c(0,"ion-text",7)(1,"p"),d(2),s()()),e&2){let r=m();l(2),C('No district found for "',r.searchText,'"')}}var ie=(()=>{let t=class t{constructor(o,i){this.pubServ=o,this.modalCtrl=i,this.blocks=[],this.filteredBlocks=[],this.searchText=""}ngOnInit(){return g(this,null,function*(){this.blocks=yield this.pubServ.blockByDistrict(this.districtId),this.filteredBlocks=[...this.blocks]})}filterBlocks(){let o=this.searchText.toLowerCase();this.filteredBlocks=this.blocks.filter(i=>i.block_name.toLowerCase().includes(o))}selectBlock(o){this.modalCtrl.dismiss({block:o})}};t.\u0275fac=function(i){return new(i||t)(f(A),f(q))},t.\u0275cmp=I({type:t,selectors:[["app-blockfilter"]],inputs:{districtId:"districtId"},decls:8,vars:5,consts:[[3,"translucent"],[1,"ion-padding",3,"fullscreen"],["fill","outline","placeholder","Search city",1,"ion-margin-top",3,"ngModelChange","ionInput","ngModel"],[4,"ngIf"],["color","medium",4,"ngIf"],["button","","detail","false",3,"click",4,"ngFor","ngForOf"],["button","","detail","false",3,"click"],["color","medium"]],template:function(i,n){i&1&&(c(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),d(3,"Cities"),s()()(),c(4,"ion-content",1)(5,"ion-input",2),v("ngModelChange",function(p){return T(n.searchText,p)||(n.searchText=p),p}),u("ionInput",function(){return n.filterBlocks()}),s(),_(6,G,2,1,"ion-list",3)(7,J,3,1,"ion-text",4),s()),i&2&&(a("translucent",!0),l(4),a("fullscreen",!0),l(),B("ngModel",n.searchText),l(),a("ngIf",n.filteredBlocks.length>0),l(),a("ngIf",n.filteredBlocks.length===0&&n.searchText))},dependencies:[L,N,R,O,D,V,j,H,W,M,y,S,F,w,P,E],encapsulation:2});let e=t;return e})();export{ie as a};
