import{a as A}from"./chunk-SP2N6BLA.js";import{A as v,B as M,Ba as O,C as S,Ea as k,Fa as V,Ga as W,L as D,M as w,Na as j,O as b,Oa as B,Pa as H,Sa as R,Z as E,_ as F,bb as q,da as P,ea as L,g as h,h as I,j as r,k as u,l as C,m as _,n as c,o as l,p as a,r as y,s as g,t as m,w as p,wa as N,x,y as T}from"./chunk-6RAZA6VU.js";import{h as d}from"./chunk-B7O3QC5Z.js";function z(t,i){if(t&1){let s=y();l(0,"ion-item",6),g("click",function(){let e=h(s).$implicit,n=m(2);return I(n.selectDistrict(e))}),l(1,"ion-label")(2,"p"),p(3),a()()()}if(t&2){let s=i.$implicit;r(3),x(s.district_name)}}function G(t,i){if(t&1&&(l(0,"ion-list"),_(1,z,4,1,"ion-item",5),a()),t&2){let s=m();r(),c("ngForOf",s.filteredDistricts)}}function J(t,i){if(t&1&&(l(0,"ion-text",7)(1,"p"),p(2),a()()),t&2){let s=m();r(2),T('No district found for "',s.searchText,'"')}}var et=(()=>{let i=class i{constructor(o,e){this.pubServ=o,this.modalCtrl=e,this.districts=[],this.filteredDistricts=[],this.searchText="",this.selectedCity=null}ngOnInit(){return d(this,null,function*(){this.districts=yield this.pubServ.districtByState(this.stateId),this.filteredDistricts=[...this.districts]})}filterdistricts(){return d(this,null,function*(){let o=this.searchText.toLowerCase();this.filteredDistricts=this.districts.filter(e=>e.district_name.toLowerCase().includes(o))})}selectDistrict(o){return d(this,null,function*(){this.modalCtrl.dismiss({district:o})})}};i.\u0275fac=function(e){return new(e||i)(u(A),u(q))},i.\u0275cmp=C({type:i,selectors:[["app-cityfilter"]],inputs:{stateId:"stateId"},decls:8,vars:5,consts:[[3,"translucent"],[1,"ion-padding",3,"fullscreen"],["fill","outline","placeholder","Search city",1,"ion-margin-top",3,"ngModelChange","ionInput","ngModel"],[4,"ngIf"],["color","medium",4,"ngIf"],["button","","detail","false",3,"click",4,"ngFor","ngForOf"],["button","","detail","false",3,"click"],["color","medium"]],template:function(e,n){e&1&&(l(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),p(3,"Cities"),a()()(),l(4,"ion-content",1)(5,"ion-input",2),S("ngModelChange",function(f){return M(n.searchText,f)||(n.searchText=f),f}),g("ionInput",function(){return n.filterdistricts()}),a(),_(6,G,2,1,"ion-list",3)(7,J,3,1,"ion-text",4),a()),e&2&&(c("translucent",!0),r(4),c("fullscreen",!0),r(),v("ngModel",n.searchText),r(),c("ngIf",n.filteredDistricts.length>0),r(),c("ngIf",n.filteredDistricts.length===0&&n.searchText))},dependencies:[N,O,R,k,V,W,B,H,j,b,D,w,L,E,P,F],encapsulation:2});let t=i;return t})();export{et as a};
